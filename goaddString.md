## "+"拼接字符串

优点：

使用简单
对短字符串的拼接有性能优势（结果或参数不escape，总长度不大于32位时会提前分配32的buf，这时数据可以存储在buf中）
一个表达式中有多个"+"仍只处理一次（会将多个拼接的字符串组成成slice再调用concatstrings）
缺点：

当数据很多时，多个"+"可能会导致代码的不简洁
对于需要多个表达式才能拼接所有字符串的数据，意味着每次都需要调用concatstrings，需要重新计算并分配内存，一旦数据很多，性能就会变差

## fmt.Sprintf拼接字符串

优点：

适用范围广，可以将其他类型转换为字符串
在表示带有具体意义的数据时更直观，尤其是带有描述性前缀
缺点：

处理过程相对复杂，多类型的判断甚至调用反射，影响效率
拼接字符串中并没有提前计算总长，每次拼接字符串都是使用的append完成，调用append意味着扩容时的内存再分配及数据拷贝等处理，一旦数据较多时，明显影响性能

## strings.Join拼接字符串

优点：

一次计算总长度，只需分配一次总内存，后续无需重新分配内存
对于同一分隔符时的拼接有很大的便利性
缺点：

对于零散的数据需要主动组装成slice才能处理
对于不同的分隔符不能直接处理

## 整体比较

从源码实现的角度，我们可以得出以下结论:

对于拼接字符串，如果一个表达式可以全部使用'+'的方式，则使用'+'与strings.Join的性能接近，否则其性能不如strings.Join，而fmt.Sprintf需要经过反射及append的处理，其性能相对来说可能最差。

原因是：三者在拼接字符串过程中，尤其是多个字符串、长度较长的字符串时，strings.Join仅需分配一次内存，'+'因使用方式会分配一次或多次，fmt.Sprintf则针对每个%s会调用一次append，可能会分配多次。每次重新分配都需要进行数据的重新拷贝，都会影响其性能。

当然，对于拼接数据量很少或很短的数据，尤其是零散的数据（strings.Join需要组装数据至slice），三者的效率差异不大，可以按照需求自行决定使用。

整体来说三者的性能：strings.Join~=单次'+'>>多次'+'>fmt.Sprintf
————————————————
版权声明：本文为CSDN博主「yuchenfw」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/xz_studying/article/details/106602307