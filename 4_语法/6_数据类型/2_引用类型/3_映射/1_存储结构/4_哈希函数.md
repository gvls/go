##  哈希函数

###   哈希函数选择
当程序启动时，`alginit()` 会检测CPU是否支持aes，若支持 则使用aes hash，否则 使用memhash
哈希函数分 加密型和非加密型，`map` 使用非加密型 用于查找



###   哈希值
`key` 经过哈希函数处理后得到 哈希值（一串二进制数据）
哈希值 右边是低位，左边是高位
低 `B` 位 定位 `buckests` 的 索引
高 `8` 位 比较 `bmap` 中 `tophash[]`，从而找到`bmap`中`key`(不是定位而是加快`key`的比较)

* 计算 `buckests` 的索引
用`hash & (2^B-1)` 取代`hash mod 2^B` 来提高效率
用哈希值 和 `2^B-1` 进行 与操作
会得到`[0,2^B-1]`中的任意一个数，并对应`buckests` 的下标

* 为什么`buckets` 的长度必须是2的次幂数
若不是2的次幂数，则buckets数组长度n转成二进制不是一个低位全1，高位全0的形式，则将其作为掩码与任意key的hash值进行按位与后，虽然得出来的数仍然在[0,2^B-1]区间上，但反过来，这些区间上的数，必定有些数永远不会出现，这也就意味着map的buckets数组里某些位置上永远不可能存数据，导致浪费了空间，又影响了散列性，大大降低查询效率



###   哈希冲突
多于1个不同的key-value落入同一个桶
