##  扩容
当数据元素增多，哈希冲突边高、查找性能变低
当进行 插入/删除 都需要进行扩容检查


###   增量扩容 
新`buckets`的长度是原来的 2倍
也就是平均每个桶存有键值对达6.5个 

* 条件
负载因子 > 6.5



###   等量扩容 
新`buckets`的长度和原来的 一样
目的是把原来松散的结构 重新排列，提高存取速度

* 条件
桶的数量 <  2^15 并且 溢出桶的数量 > 桶的数量
或者：
桶的数量 >= 2^15 并且 溢出桶的数量 > 2^15



###   过程
1. 进行扩容
2. `oldbuckets` 字段指向旧的桶，`buckets` 字段指向新的桶
3. 设置当前`map` 的状态是扩容状态
4. 每当访问`map`的时候，会从`oldbuckets`复制少量数据复制到`buckets`  
5. 当所有的数据都从`oldbuckets` 迁移到`buckets` ，`oldbuckets` 取消对桶的引用
6. GC回收桶 
